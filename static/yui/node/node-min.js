/*
Copyright (c) 2008, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 3.0.0pr1
*/
YUI.add("node",function(A){var Z=0,J=1,P=9;var X="ownerDocument",W="tagName",G="nodeName",N="nodeType";var d=/(?:string|boolean|number)/;var a=A.Selector;var Q={};var D={};var O={};var S=null;var U=[].slice;var C=function(m){var j=null,k=(m)?m._yuid:null,Y=Q[k],l=D[k];if(m){if(N in m){if(Y&&l&&m===l){j=Y;}else{j=new g(m);}}else{if("item" in m||"push" in m){j=new A.NodeList(m);}}}return j;};var e=function(j){var Y=null;if(j){Y=(typeof j==="string")?function(k){return A.Selector.test(k,j);}:function(k){return j(Q[k._yuid]);};}return Y;};var M=function(Y){Y=D[Y._yuid];return(Y[N]===9)?Y:Y[X];};var F=function(Y){if(Y&&!Y.nodeType&&Y._yuid){Y=D[Y._yuid];}return Y||null;};var V=function(n,j,Y,m,l,k){if(j){j=F(j);if(Y){Y=F(Y);}}return C(D[this._yuid][n](j,Y,m,l,k));};var c=function(n,j,Y,m,l,k){return C(D[this._yuid][n](j,Y,m,l,k));};var T=function(n,j,Y,m,l,k){return D[this._yuid][n](j,Y,m,l,k);};var L=function(n,j,Y,m,l,k){D[this._yuid][n](j,Y,m,l,k);return this;};var I={"parentNode":Z,"childNodes":Z,"children":function(l){l=D[l._yuid];var k=l.children;if(k===undefined){var m=l.childNodes;k=[];for(var j=0,Y=m.length;j<Y;++j){if(m[j][W]){k[k.length]=m[j];}}}return k;},"firstChild":Z,"lastChild":Z,"previousSibling":Z,"nextSibling":Z,"ownerDocument":Z,"offsetParent":J,"documentElement":P,"body":P,"elements":J,"rows":J,"cells":J,"tHead":J,"tFoot":J,"tBodies":J};var K={replaceChild:V,appendChild:V,insertBefore:V,removeChild:V,hasChildNodes:T,cloneNode:c,getAttribute:T,setAttribute:L,hasAttribute:T,scrollIntoView:L,getElementsByTagName:c,focus:L,blur:L,submit:L,reset:L};var E=function(Y){f.prototype[Y]=function(){var k=[],l=O[this._yuid],m;for(var n=0,j=l.length;n<j;++n){D[H._yuid]=l[n];m=H[Y].apply(H,arguments);if(m!==H){k[n]=m;}}return k.length?k:this;};};var h={"getBoundingClientRect":true};var g=function(j){if(!j||!j[N]){return null;}var Y=A.guid();try{j._yuid=Y;}catch(k){}this._yuid=Y;D[Y]=j;Q[Y]=this;};var R={};var b={"text":function(Y){return A.DOM.getText(D[Y._yuid]);},"options":function(Y){return(Y)?Y.getElementsByTagName("option"):[];}};g.setters=function(j,Y){if(typeof j=="string"){R[j]=Y;}else{A.each(j,function(k,l){g.setters(l,k);});}};g.getters=function(j,Y){if(typeof j=="string"){b[j]=Y;}else{A.each(j,function(k,l){g.getters(l,k);});}};g.methods=function(Y,j){if(typeof Y=="string"){g.prototype[Y]=function(){var l=U.call(arguments);l.unshift(this);var k=j.apply(null,l);if(k===undefined){k=this;}return k;};E(Y);}else{A.each(Y,function(l,k){g.methods(k,l);});}};g.getDOMNode=function(j){var Y;if(j.nodeType){Y=j;}else{if(typeof j==="string"){Y=a.query(j,null,true);}else{Y=D[j._yuid];}}return Y||null;};g.wrapDOMMethod=function(Y){return function(){var j=U.call(arguments);j.unshift(A.Node.getDOMNode(j.shift()));return A.DOM[Y].apply(A.DOM,j);};};g.addDOMMethods=function(Y){var j={};A.each(Y,function(k,l){j[k]=A.Node.wrapDOMMethod(k);});A.Node.methods(j);};g.prototype={set:function(k,j){var Y=D[this._yuid];if(k in R){R[k](this,k,j);}else{if(d.test(typeof Y[k])){Y[k]=j;}}return this;},get:function(k){var j;var Y=D[this._yuid];if(k in b){j=b[k](this,k);}else{if(k in I){if(typeof I[k]==="function"){j=I[k](this);}else{j=Y[k];}if(S&&S[this._yuid]&&!A.DOM.contains(Y,j)){j=null;}else{j=C(j);}}else{if(d.test(typeof Y[k])){j=Y[k];}}}return j;},invoke:function(o,j,Y,n,m,l){if(j){j=(j[N])?j:F(j);if(Y){Y=(Y[N])?Y:F(Y);}}var k=D[this._yuid];if(k&&h[o]&&k[o]){return k[o](j,Y,n,m,l);}return null;},hasMethod:function(Y){return !!(h[Y]&&D[this._yuid][Y]);},toString:function(){var Y=D[this._yuid]||{};return Y.id||Y[G]||"undefined node";},query:function(Y){return C(a.query(Y,D[this._yuid],true));},queryAll:function(Y){return C(a.query(Y,D[this._yuid]));},test:function(Y){return a.test(D[this._yuid],Y);},compareTo:function(Y){Y=Y[N]?Y:D[Y._yuid];return D[this._yuid]===Y;},ancestor:function(Y){return C(A.DOM.elementByAxis(D[this._yuid],"parentNode",e(Y)));},previous:function(j,Y){return C(A.DOM.elementByAxis(D[this._yuid],"previousSibling",e(j)),Y);},next:function(j,Y){return C(A.DOM.elementByAxis(D[this._yuid],"nextSibling",e(j)),Y);},attach:function(l,k,Y){var j=U.call(arguments,0);j.unshift(D[this._yuid]);return A.Event.addListener.apply(A.Event,j);},on:function(k,j,Y){return this.attach.apply(this,arguments);},addEventListener:function(k,j,Y){return A.Event.nativeAdd(D[this._yuid],k,j,Y);},detach:function(k,j){var Y=U.call(arguments,0);Y.unshift(D[this._yuid]);return A.Event.removeListener.apply(A.Event,Y);},removeEventListener:function(j,Y){return A.Event.nativeRemove(D[this._yuid],j,Y);},create:function(Y){return A.Node.create(Y);},contains:function(Y){return A.DOM.contains(D[this._yuid],F(Y));},plug:function(j,Y){Y=Y||{};Y.owner=this;if(j&&j.NS){this[j.NS]=new j(Y);}return this;},inDoc:function(j){var Y=D[this._yuid];j=(j)?M(j):Y.ownerDocument;if(j.documentElement){return A.DOM.contains(j.documentElement,Y);}}};A.each(K,function(Y,j){g.prototype[j]=function(){return Y.apply(this,[j].concat(U.call(arguments)));};});g.create=function(Y){return C(A.DOM.create(Y));};g.getById=function(j,Y){Y=(Y&&Y[N])?Y:A.config.doc;return C(Y.getElementById(j));};g.get=function(j,k,Y){if(j instanceof g){return j;}if(!k){k=A.config.doc;}else{if(k._yuid&&D[k._yuid]){k=D[k._yuid];}}if(j&&typeof j==="string"){if(j==="document"){j=A.config.doc;}else{j=A.Selector.query(j,k,true);}}j=C(j);if(Y){S=S||{};S[j._yuid]=j;}return j;};g.all=function(Y,j){if(Y instanceof f){return Y;}if(!j){j=A.config.doc;}else{if(j._yuid&&D[j._yuid]){j=D[j._yuid];}}if(Y&&typeof Y=="string"){Y=a.query(Y,j);}return C(Y);};var f=function(Y){O[A.stamp(this)]=Y;};var H=g.create("<div></div>");f.prototype={};A.each(g.prototype,function(j,Y){if(typeof g.prototype[Y]=="function"){E(Y);}});A.mix(f.prototype,{item:function(Y){var j=O[this._yuid][Y];return(j&&j[W])?C(j):(j&&j.get)?j:null;},set:function(k,m){var j=O[this._yuid];for(var l=0,Y=j.length;l<Y;++l){D[H._yuid]=j[l];H.set(k,m);}return this;},get:function(l){if(l=="length"){return O[this._yuid].length;}var j=O[this._yuid];
var k=[];for(var m=0,Y=j.length;m<Y;++m){D[H._yuid]=j[m];k[m]=H.get(l);}return k;},filter:function(Y){return C(a.filter(O[this._yuid],Y));},each:function(m,l){l=l||this;var j=O[this._yuid];for(var k=0,Y=j.length;k<Y;++k){m.call(l,A.Node.get(j[k]),k,this);}return this;},size:function(){return O[this._yuid].length;},toString:function(){var Y=O[this._yuid]||[];return"NodeList ("+Y.length+" items)";}},true);A.Node=g;A.NodeList=f;A.all=A.Node.all;A.get=A.Node.get;A.Node.addDOMMethods(["getStyle","getComputedStyle","setStyle","setStyles"]);A.Node.addDOMMethods(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);var i=["region","viewportRegion"],B=A.Node.getDOMNode;A.each(i,function(Y,j){A.Node.getters(Y,A.Node.wrapDOMMethod(Y));});A.Node.addDOMMethods(["inViewportRegion"]);A.Node.methods({intersect:function(j,Y,k){if(Y instanceof A.Node){Y=B(Y);}return A.DOM.intersect(B(j),Y,k);},inRegion:function(j,Y,k,l){if(Y instanceof A.Node){Y=B(Y);}return A.DOM.inRegion(B(j),Y,k,l);}});A.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(Y,j){A.Node.getters(Y,A.Node.wrapDOMMethod(Y));});A.Node.addDOMMethods(["getXY","setXY","getX","setX","getY","setY"]);},"3.0.0pr1",{requires:["dom"]});