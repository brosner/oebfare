/*
Copyright (c) 2008, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 3.0.0pr1
*/
YUI.add("node-base",function(A){var X=0,I=1,O=9;var W="ownerDocument",V="tagName",F="nodeName",M="nodeType";var c=/(?:string|boolean|number)/;var Z=A.Selector;var P={};var C={};var N={};var R=null;var T=[].slice;var B=function(k){var h=null,i=(k)?k._yuid:null,Y=P[i],j=C[i];if(k){if(M in k){if(Y&&j&&k===j){h=Y;}else{h=new f(k);}}else{if("item" in k||"push" in k){h=new A.NodeList(k);}}}return h;};var d=function(h){var Y=null;if(h){Y=(typeof h==="string")?function(i){return A.Selector.test(i,h);}:function(i){return h(P[i._yuid]);};}return Y;};var L=function(Y){Y=C[Y._yuid];return(Y[M]===9)?Y:Y[W];};var E=function(Y){if(Y&&!Y.nodeType&&Y._yuid){Y=C[Y._yuid];}return Y||null;};var U=function(l,h,Y,k,j,i){if(h){h=E(h);if(Y){Y=E(Y);}}return B(C[this._yuid][l](h,Y,k,j,i));};var b=function(l,h,Y,k,j,i){return B(C[this._yuid][l](h,Y,k,j,i));};var S=function(l,h,Y,k,j,i){return C[this._yuid][l](h,Y,k,j,i);};var K=function(l,h,Y,k,j,i){C[this._yuid][l](h,Y,k,j,i);return this;};var H={"parentNode":X,"childNodes":X,"children":function(k){k=C[k._yuid];var j=k.children;if(j===undefined){var l=k.childNodes;j=[];for(var h=0,Y=l.length;h<Y;++h){if(l[h][V]){j[j.length]=l[h];}}}return j;},"firstChild":X,"lastChild":X,"previousSibling":X,"nextSibling":X,"ownerDocument":X,"offsetParent":I,"documentElement":O,"body":O,"elements":I,"rows":I,"cells":I,"tHead":I,"tFoot":I,"tBodies":I};var J={replaceChild:U,appendChild:U,insertBefore:U,removeChild:U,hasChildNodes:S,cloneNode:b,getAttribute:S,setAttribute:K,hasAttribute:S,scrollIntoView:K,getElementsByTagName:b,focus:K,blur:K,submit:K,reset:K};var D=function(Y){e.prototype[Y]=function(){var j=[],k=N[this._yuid],l;for(var m=0,h=k.length;m<h;++m){C[G._yuid]=k[m];l=G[Y].apply(G,arguments);if(l!==G){j[m]=l;}}return j.length?j:this;};};var g={"getBoundingClientRect":true};var f=function(h){if(!h||!h[M]){return null;}var Y=A.guid();try{h._yuid=Y;}catch(i){}this._yuid=Y;C[Y]=h;P[Y]=this;};var Q={};var a={"text":function(Y){return A.DOM.getText(C[Y._yuid]);},"options":function(Y){return(Y)?Y.getElementsByTagName("option"):[];}};f.setters=function(h,Y){if(typeof h=="string"){Q[h]=Y;}else{A.each(h,function(i,j){f.setters(j,i);});}};f.getters=function(h,Y){if(typeof h=="string"){a[h]=Y;}else{A.each(h,function(i,j){f.getters(j,i);});}};f.methods=function(Y,h){if(typeof Y=="string"){f.prototype[Y]=function(){var j=T.call(arguments);j.unshift(this);var i=h.apply(null,j);if(i===undefined){i=this;}return i;};D(Y);}else{A.each(Y,function(j,i){f.methods(i,j);});}};f.getDOMNode=function(h){var Y;if(h.nodeType){Y=h;}else{if(typeof h==="string"){Y=Z.query(h,null,true);}else{Y=C[h._yuid];}}return Y||null;};f.wrapDOMMethod=function(Y){return function(){var h=T.call(arguments);h.unshift(A.Node.getDOMNode(h.shift()));return A.DOM[Y].apply(A.DOM,h);};};f.addDOMMethods=function(Y){var h={};A.each(Y,function(i,j){h[i]=A.Node.wrapDOMMethod(i);});A.Node.methods(h);};f.prototype={set:function(i,h){var Y=C[this._yuid];if(i in Q){Q[i](this,i,h);}else{if(c.test(typeof Y[i])){Y[i]=h;}}return this;},get:function(i){var h;var Y=C[this._yuid];if(i in a){h=a[i](this,i);}else{if(i in H){if(typeof H[i]==="function"){h=H[i](this);}else{h=Y[i];}if(R&&R[this._yuid]&&!A.DOM.contains(Y,h)){h=null;}else{h=B(h);}}else{if(c.test(typeof Y[i])){h=Y[i];}}}return h;},invoke:function(m,h,Y,l,k,j){if(h){h=(h[M])?h:E(h);if(Y){Y=(Y[M])?Y:E(Y);}}var i=C[this._yuid];if(i&&g[m]&&i[m]){return i[m](h,Y,l,k,j);}return null;},hasMethod:function(Y){return !!(g[Y]&&C[this._yuid][Y]);},toString:function(){var Y=C[this._yuid]||{};return Y.id||Y[F]||"undefined node";},query:function(Y){return B(Z.query(Y,C[this._yuid],true));},queryAll:function(Y){return B(Z.query(Y,C[this._yuid]));},test:function(Y){return Z.test(C[this._yuid],Y);},compareTo:function(Y){Y=Y[M]?Y:C[Y._yuid];return C[this._yuid]===Y;},ancestor:function(Y){return B(A.DOM.elementByAxis(C[this._yuid],"parentNode",d(Y)));},previous:function(h,Y){return B(A.DOM.elementByAxis(C[this._yuid],"previousSibling",d(h)),Y);},next:function(h,Y){return B(A.DOM.elementByAxis(C[this._yuid],"nextSibling",d(h)),Y);},attach:function(j,i,Y){var h=T.call(arguments,0);h.unshift(C[this._yuid]);return A.Event.addListener.apply(A.Event,h);},on:function(i,h,Y){return this.attach.apply(this,arguments);},addEventListener:function(i,h,Y){return A.Event.nativeAdd(C[this._yuid],i,h,Y);},detach:function(i,h){var Y=T.call(arguments,0);Y.unshift(C[this._yuid]);return A.Event.removeListener.apply(A.Event,Y);},removeEventListener:function(h,Y){return A.Event.nativeRemove(C[this._yuid],h,Y);},create:function(Y){return A.Node.create(Y);},contains:function(Y){return A.DOM.contains(C[this._yuid],E(Y));},plug:function(h,Y){Y=Y||{};Y.owner=this;if(h&&h.NS){this[h.NS]=new h(Y);}return this;},inDoc:function(h){var Y=C[this._yuid];h=(h)?L(h):Y.ownerDocument;if(h.documentElement){return A.DOM.contains(h.documentElement,Y);}}};A.each(J,function(Y,h){f.prototype[h]=function(){return Y.apply(this,[h].concat(T.call(arguments)));};});f.create=function(Y){return B(A.DOM.create(Y));};f.getById=function(h,Y){Y=(Y&&Y[M])?Y:A.config.doc;return B(Y.getElementById(h));};f.get=function(h,i,Y){if(h instanceof f){return h;}if(!i){i=A.config.doc;}else{if(i._yuid&&C[i._yuid]){i=C[i._yuid];}}if(h&&typeof h==="string"){if(h==="document"){h=A.config.doc;}else{h=A.Selector.query(h,i,true);}}h=B(h);if(Y){R=R||{};R[h._yuid]=h;}return h;};f.all=function(Y,h){if(Y instanceof e){return Y;}if(!h){h=A.config.doc;}else{if(h._yuid&&C[h._yuid]){h=C[h._yuid];}}if(Y&&typeof Y=="string"){Y=Z.query(Y,h);}return B(Y);};var e=function(Y){N[A.stamp(this)]=Y;};var G=f.create("<div></div>");e.prototype={};A.each(f.prototype,function(h,Y){if(typeof f.prototype[Y]=="function"){D(Y);}});A.mix(e.prototype,{item:function(Y){var h=N[this._yuid][Y];return(h&&h[V])?B(h):(h&&h.get)?h:null;},set:function(j,l){var h=N[this._yuid];for(var k=0,Y=h.length;k<Y;++k){C[G._yuid]=h[k];G.set(j,l);}return this;},get:function(k){if(k=="length"){return N[this._yuid].length;}var h=N[this._yuid];
var j=[];for(var l=0,Y=h.length;l<Y;++l){C[G._yuid]=h[l];j[l]=G.get(k);}return j;},filter:function(Y){return B(Z.filter(N[this._yuid],Y));},each:function(l,k){k=k||this;var h=N[this._yuid];for(var j=0,Y=h.length;j<Y;++j){l.call(k,A.Node.get(h[j]),j,this);}return this;},size:function(){return N[this._yuid].length;},toString:function(){var Y=N[this._yuid]||[];return"NodeList ("+Y.length+" items)";}},true);A.Node=f;A.NodeList=e;A.all=A.Node.all;A.get=A.Node.get;A.Node.addDOMMethods(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);},"3.0.0pr1",{requires:["dom-base","selector"]});